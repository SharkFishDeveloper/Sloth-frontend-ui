(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4956:function(e,s,r){Promise.resolve().then(r.bind(r,1039))},8806:function(e,s,r){"use strict";var t=r(7437);r(2265),s.Z=()=>(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-green-500"})})},1039:function(e,s,r){"use strict";r.r(s);var t=r(7437),n=r(2265),o=r(6463),a=r(8472),i=r(8227),u=r(8726),l=r(998),d=r(8806);s.default=()=>{let[e,s]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[g,x]=(0,n.useState)(null);(0,o.useRouter)();let[h,b]=(0,n.useState)(!1),p=async s=>{b(!0),s.preventDefault(),x(null);try{if(e.length<6||m.length<6)return u.ZP.error("Name or password is too small ");let s=await a.Z.post("".concat(i.L,"/api/signup"),{email:r,password:m,username:e});if(200===s.data.status)return u.ZP.success("Signup successfull !! Now login"),await new Promise(e=>setTimeout(e,400)),await (0,l.signIn)();if(300===s.data.status)return u.ZP.error("User already exists !!");return console.log(s.data.message),u.ZP.error("An unexpected error occurred"),x("An unexpected error occurred")}catch(e){return console.log(e),u.ZP.error("An unexpected error occurred")}finally{b(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"w-full max-w-md p-8 bg-white shadow-lg rounded-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign Up"}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[g&&(0,t.jsx)("div",{className:"text-red-500 mb-4",children:g}),h&&(0,t.jsx)("div",{className:"text-green-500 mb-4",children:(0,t.jsx)(d.Z,{})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",value:e,onChange:e=>s(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:r,onChange:e=>c(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:m,onChange:e=>f(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign Up"})]})]})})}},6463:function(e,s,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},8227:function(e,s,r){"use strict";r.d(s,{L:function(){return t}});let t="http://localhost:3000"}},function(e){e.O(0,[998,726,472,971,23,744],function(){return e(e.s=4956)}),_N_E=e.O()}]);